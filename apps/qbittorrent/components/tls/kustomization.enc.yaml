apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
nameReference:
  - kind: Secret
    fieldSpecs:
      - path: spec/secretName
        kind: Certificate
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: qbittorrent-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:exUeyi6232pmxokY4F446s6irvTBzXU=,iv:oAnT37Ga+8ooykM7bMKG1dtM9nqIqq58ESNdRPd8Du0=,tag:HC7JUI/nPN/7EHrmOCg9ag==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBJZ05rNzlyeDJ0d2k2QUVs
        UkxzRzhFdU5LNDlPZEJGN0lGNjVQNmdsSlQ0CkhIY2QvN0dWSEJFdUd3ell0MWpJ
        eDE5a2ROZ0dMSkxzWWVPbEdQa0o3U3MKLS0tIHpCNHhDZWpQem9BM0ZZSHc0MkZq
        aW1GMEhldEptQmdTQ1R1Y2ZISWJHVG8KFS25+aVBWVd8csTOnEWk6ZpZMGTVdu72
        5oeicwv7okz+EJLtPP2ZxtEAzFeMAKhd/RXIkcJDAf04rbGc2Kyylg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:35:33Z"
  mac: ENC[AES256_GCM,data:DRiloTfC4/UVynY8SKqsu0OPebMy9iUbdZ631hmEfbhv6PePERsElrPrWQCE9pWR8ZU7UDJIidnKsyfJTgeeT8Zv+j4q4hofigoVHl24Jtu4uH720WFcY/WCqM6KRfmrGBy+XqQ/8QsCJhvtt97Qu4XW935xJY/HzUgVFGlsvys=,iv:UVAhRfMqkk2HSXTL2Lo55wr+roATGe/OWqvQnnCgwMQ=,tag:0bFOB1xuKYhw0oVbUM5FRQ==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
