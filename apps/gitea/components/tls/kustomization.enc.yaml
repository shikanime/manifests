apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
nameReference:
  - kind: Certificate
    fieldSpecs:
      - path: spec/secretName
        kind: Certificate
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: gitea-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:WlGOzAop5qV/0y2xHIBujtjnoI7fH44=,iv:ofJlHn9868kUnUMlBk5CQZV7XIe/xcTqKp8SN4hrKaQ=,tag:2Qgf0a1X7oGgownWqkcT1g==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBmKzBmSENjWkxMbkpwYllX
        VEJ3MXFWd3lFOVNSejJKbnJIOFd2cWxlVlhvCkRrdytuWkROem9nZ3gwY2NXWGlJ
        bFB0dDIyMENJT0xrZHo0RCthVVdiSkkKLS0tIEM5alVTb3BoY08xREkzdVRmODBG
        RGI4dzBzbmRMaS9pZ3Vha1ZRaUd3eEUKjTC9QAuA9EPGYoanOstKA3rHknILpBwj
        WOXv5qDkVl3/jMcVY+SUKm6K2nJjTJIzXnlz7+yxME3y1QAjcytIdg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:25:55Z"
  mac: ENC[AES256_GCM,data:cWlaPuncx5JOKzFugdipfDyom1+Il4tuPFFBKxmj0jnACgilN2G4Wffdh9PEesX6CoFk19Eze0W7Wj3M+O88yUfr1o8agkCKHZQ6lqPAgaj19i2D6lmc/8Vhv0g0thN+VRI2jWgH+6xJZR8wdeEHYfyGdVxirjtHCb9qJPJahtg=,iv:Ge5o1lLeE6RfWM2QAUaPJjxCJWkYHrfdJZxkLVbAHXo=,tag:iCo8Mo6698PeDmgVS9jk9A==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
