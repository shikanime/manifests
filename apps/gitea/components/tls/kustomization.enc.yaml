apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: gitea-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:Nu1ggdIwYhXu7/JOggeNnfZTTUFUgRA=,iv:zN+MFYG1crgaUQa+Ud2WtJTP3+VzrUoc76TIK9jDxCE=,tag:BHnNJgDPr5cD75DZ99cYQA==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSByL01qTkl6ZFIzMkludE1X
        MEhSczB0T3R5VnZoTXViaE94S1F6THM0TW1RCjV4OHI3OHRiRTVRaFhCRy9iTjF2
        K2t4OXJHSnpLU3h0TTlWWi84STJLOEEKLS0tIGdLdkV3ZWZJOWhab3Z2LzJ3MGg4
        MkxOcnRoeVZsT1RDYlFEL2FnNThCMDAK8QvO8iusyb0wwb6CRtNz93ErorMaw0Rl
        7R/fAloKIZcGMbEY+uzj3MVl1K/M3FqZhFysfdtZIq3vvaigOfUR3w==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:52:42Z"
  mac: ENC[AES256_GCM,data:KDw8hLJNDMIh1Ybaa9Ux0qNPSvJMSXtPGsP3Rx7jiWZDry2JvpJJEWqsx0qZRURqPYuDqSVThMaC10ecEhunFH2shSPnTWjXMZU0oQiF8uP8AunAqIAxqEObPHSi88zBREuYlZsHAE1R4AH94mBK8aeEY8bJ5+bHs/OQ60T7x4g=,iv:EnaQGAtq2BOogQmHJO1Gl+Hh2OvWdTSA2w0rVuhesT4=,tag:CbXHTzRz5w03MchPrc4q4A==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
