apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: gitea-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:wIOcFEe6Qpzn0Wjgq6We3tqGcdtkY8w=,iv:zAgmyIZlNrVnsJ9YveY5J2jTHdjG+JOL4EXwwPMfeeY=,tag:jDyRKD2SzU2HZXqy2oROzw==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDWWV2N2ZTVWxwZS9OLzFK
        SzBSR2QvSjd1c1U3Unc2UDBjdFZDUjRZTm1ZCm1pd3RDWXZ4a2RFM05KcVUrczhi
        QkhBOW8va1dDSkQxUHUyd0cvVVYvZUUKLS0tIGNXcXFMdXRYaU5xN1NmUWdFSTBS
        a3pRamlwejFNQ1MyZUptcnV1V3RhSmcKekiQUdbW9VazsXcN7sFN2kKvUqQx+4do
        Jj+ipTh/CA8tT5PCAYGibv3HM0ZI77NzhH91tXRr6wiAwgIlYCSXMQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:50:43Z"
  mac: ENC[AES256_GCM,data:ax8ghnJluCoThQi13TKGV/Kb757Z/iVp8TAXONeYTkQlmp1mxNpWjJLZvuHlwKdb/9sdEVqHgjE8tBdTsDVY+TuJyoSqoRebGUzEJMEB6n3DAqJfIWN85iAf6itRfoA2ki/msbtjFxzMaZjvFgkKUOyynNGHmvGaLq5fQh3eNfg=,iv:ULq/DSbry8ouTyErg7dFNVOoC60UQdRp6GHWnYPQcHk=,tag:pkx70qIY5K+zMppz52zfDQ==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
