apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: jellyfin-pkcs12-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:iRPtDACdjj7uYwPus0bwrHl15i8+XCg=,iv:xZXrRaMnrZTj2wzuZQK7l4ZE4NNuGpVs5nzeS1sFnHE=,tag:RtcG+6NFHR/eb/V3xdcmlA==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB2ZGlNbkxIaU5pY3JyU2Rv
        bmV6NWZFcDQ2VHo4blZFKy8vMWdUSThUV1VFCkhzK3NoeVFaNTkvVnVoS3pzMXI2
        WFJZQ2JpSXhSV3Ayd3pJN3ZFQk5nVW8KLS0tIE43NW9IRVY4V1JkSTJqdExIRm1k
        SURkbnJuMXFWYVoxTE56b0NaSHlBRmMKk8LHBdQh2Hl2f61lzQ99/GWetbcUg0tN
        7PqjfLhOasJk3q94B4so7xvtc2JG8e7n0scZTGkUaoYqwxoFpzqsLg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-08T12:01:26Z"
  mac: ENC[AES256_GCM,data:KMeKaWPJm2bil4BEURgGTjcFt+aOH77U/mQ620oA1HH7wHHvxzDzL/kmx/XoIPMAgXU/dYTjgLwQN/qA5d1F94Irf7DpZfzMtxEuw528yWom6bIk0F2UUD4SHucatvjvrLoZ8hk0DLYq76FxAbEjdLyHNz3LWIfEt37tbOS8Alk=,iv:OwzsqUm3ppS9p9wKtOvTzORBrSWCVWcOUK2X6mKLfMQ=,tag:hYvWaWgUVKYEeVrbQQzDSw==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
