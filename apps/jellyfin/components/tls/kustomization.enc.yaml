apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: jellyfin-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:NXcmxzf2zrGMexo/RurZCGqOZXsVvu4=,iv:SW7Wgpxs7Lj2XkwHdJcCUl19wYyBIDFqCBouefBfbTg=,tag:sIg5bRahxVp7yQYE/xpgRw==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBNR0xpMmFpeXNsSVZ5aEJk
        NFM5cHdHT252WC9sQWtSYUs2SjcweDNpTlNNCjNjejJ4NVFJMktmMTQvcDEwL3Z4
        bFgxWnpCNGhFaEd4VHZtL0ptcDlZSnMKLS0tIDNPNlVxalBibXhmOE5aZGMza1Ba
        M0JmSERlWHdUZlAvUFFwSklPMTVHaGsKntsPbU+LgDLgxVgRfv56GE3DRfNbaBvt
        duHAi5+eQqWDBXEQKsZs4OqOToGOKcQbG56alBtLYG6xpyKynU6V+g==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:52:42Z"
  mac: ENC[AES256_GCM,data:xjJA45/3LXMQoUoQfItv44Z3Rj6d24d8aVgZLWCJMWE5JcRHSZ1Vbt/sPNtcvdStp8awiuuyoSyQwDAXyGUdBOCqf6LxhbgrATavBg7F17MxZxAsLLD8nWOo57o4yBMu6oun3EmfiskwbZSI5Hlflwc+P2wuVZfznOAdJABJ0IM=,iv:TKOZy7bbbOGYSawO0OuE18fUtx0/fH4jmy8fOXUUsug=,tag:cyb4vWON4DicrahtzmUMdw==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
