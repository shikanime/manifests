apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: jellyfin-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:Rt3lBF3I/62Tg5fjr744xj6M5jXs8S8=,iv:Wt8ZPhQ5toaiKMGeyavgYdVqvZrE8mTWtRWBNLG7s4I=,tag:09E8NyhtXuVN0vrt3FXJUw==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBFdGtDWWdLN21UUjhSckN0
        WTlXUzlQZWtSUkxvQ2hZOUpmQ1ZvUFBIZG40CnI4Q283UFkweXUrbUdLOHhDcWpH
        L2ZZYXRUNFoxNU9yRHVIRkdOUFJTY00KLS0tIHlYcEhxbjJMeFVEMElUdWRiRnpl
        SEhuZHZZVXgvNGc3RVNIYWg0czZXNUUKIPX51lsg/ktPWl7GtVWWdM0UOtieMHY9
        JWlciJqpXm/YnUolbmX7/hCVB/ZyBLikipRI7f27Ch9laFTSoG45Bw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:50:43Z"
  mac: ENC[AES256_GCM,data:TOtQs3xqturtYFtt2Z9m3Z3KVdzHtBW2cxIS/RHj7ybDCNKFt7Zm2Q9E436HZMUdhnd6dtfW5dSiJlR7Ka4Uui52gwYvCrgJYlTrNVDbYuN3yimlqcI9QooVO8QslmPMDhImkn16lGGer8cQnrTXM/N2nZVrjqGcrlItOrnyyD8=,iv:4m4WyBGZobZwehYZ8BnuIpZxrn+wQpeUH8gfDt4QUnQ=,tag:OkpriLrCTDOn+jZkRVB9Pw==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
