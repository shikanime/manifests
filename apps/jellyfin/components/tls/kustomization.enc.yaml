apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: jellyfin-pkcs12-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:Upp+jCdlOHv8QVtri6bVyQ1P9+tB92A=,iv:UX8AEADLXCo45ktCnzItRnnHYlsZbYF+Oi5k+Ic+vmk=,tag:o12vQn1mg2maG5yHMYWXIA==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBaemFocUpnKzBVek1XUW9a
        cDF3SkFINXBFNU5MQVMwWmNpYTIrMERTNWpVCkdhMllJM01tci9FZjJEcGQxWGZu
        MW5CWmZtMGc2WVF6cWkySStoeTR3azgKLS0tIGVKNXNqOEJUMUpUSVdUY2VxUSsx
        L1MxSDVvR0J2U2FiQTdHeHRoWHdCeFUK2rLK1S3c1rBg2WJ1zHwu+TEYR19VTeFT
        owpq7m3Y4YGJLNtaq4wG+m48CqIMSgNKDKz1psbnH0ZiquJOFwazMw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:54:50Z"
  mac: ENC[AES256_GCM,data:DETxdp9u5PQz/Y12hvxRLGN6FikosTKlsrRzTsajZvt/MZkBe8EqUGS65fRYPT2RdiO5AjH1cVPZ+k2a9fLBlEUU3WB4dGESJZdTnYcIlmeq6Zb8945jJwfen5xCHO8gmFtYgdCvIsBOxrduRGcO8/2UkP/r1u/CvnFU23Vy28c=,iv:77DEL3jeaq1DbmoIwyPwo0NyLpe2zSqneNmfW8UArtQ=,tag:0zKoVG+5H2Ibu2yyMnCdYg==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
