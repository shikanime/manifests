apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
nameReference:
  - kind: Certificate
    fieldSpecs:
      - path: spec/secretName
        kind: Certificate
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: jellyfin-tls-passwor
    namespace: shikanimed
    literals:
      - ENC[AES256_GCM,data:W4rV0HcwrE8dC6uMiXzcenfE9u+E0MI=,iv:nnykgmymhh0eCyY408kcL/qDcHlk0VMuBJKxIbUg+Q0=,tag:CvDcDVk6NYr/BuyGgFnKsQ==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBYTGptNHIvWk00L09yWDlk
        QkcxdS9pcm1maGJsTGZjNE5zbjlVRGgwN1NFCnFpTHBFdUk0NmZhR1ovOEJYa0J6
        RVRwcWs2UXFlNFB4TjN5MmMzTUlLU0kKLS0tIGNMTThOZjY0T0UwQ2l4clBGd3NX
        QWRqQlJmQnpGdDh0UE4rR0drZHhSRDQKNAQgBZvhKGy0teyNUPPI9GoZeU+qOLWB
        yV7ESraVZ0BBzgUSAwNcUwIfwgt3Zq7EfVKgpvz9rRmLcu3Tt7YfTQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:25:55Z"
  mac: ENC[AES256_GCM,data:ENaQlerfN8Zi5zDeFX9KwXeFVcMZxJ/PwWwsX32iFiOSzsQuZseD26kOsu3TqB4hPl8ed8xQ6Jp5Uni2gksDpD8K5Fnq11RGQRfz2rjuqswVKwW9tohBefydv8nemFRIaqPw02/j+2itLlcfHwzPWEezGUFAwwd+AIl/Qgc9mFI=,iv:IsOUeXjdsWMONQLF9YSzMNxSdVu44IZ+o+uHpr7vM1k=,tag:3ev1F7VY1RIhfzvSlOS0EA==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
