apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
images:
  - name: jellyfin
    newName: docker.io/jellyfin/jellyfin
    newTag: 10.10.7
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - literals:
      - ENC[AES256_GCM,data:KDTsfCPk/GH5FBPrGCRsDouPGBupmF8=,iv:PUHoEaE4t4l3TtjWfxKdpnr8Lo17PgK6g94+iKe6Qpg=,tag:pOhvf+oJcBZmQOXZla2Ijg==,type:str]
    name: jellyfin-pkcs12-password
    namespace: shikanime
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBaczk2bkV6MUlOOGppdC9k
        ZDZmS013NXFKbloxeVNKMmtMNW1kY0tSb213CkU0MnRqSzRoRVZzeXc4a1YzT2V2
        N2Q4RnlLREdhM0o3U2loYkZPc1M2S0EKLS0tIFJqRHpUUlZVVTVVd2Ewa1NHb1BD
        SGs3WkZiMEtETnN1Z0lGUzZEWWF6MUkKx8oGnSpQWDou9/YRKs/zU6+VaVr3O6R6
        EnaPUbiiWFlMK6qNAIgcS9dzwW2kjDGytHD+8G1N64K9rBOSDSm6kQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-09-16T16:17:02Z"
  mac: ENC[AES256_GCM,data:yH4uSs1DeowmkvmIDleuCDgHi7JEGK7Yi1Czm51aI8jgYM9ZEysGJXtSYLFLehz/h8q0DHdIQgmymYPRoUWVO9Y/FTTa1RgsEPO5+/f1yraomqV9B6NYNqcfVWHNZ9eUFeod5Y51EcJ430O5teSExs+nZ7pRnW1tCGOcWkDcrUU=,iv:jEQFnvTCuaTL27r/RQLoY5qKAARbMbMwXNWHmVn98/4=,tag:H1U7DwK62xP8r3/7h110OA==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
