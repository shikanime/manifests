apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
configMapGenerator:
  - name: conduit
    namespace: shikanime
    files:
      - configs/conduit/conduit.toml
images:
  - name: mautrix-googlechat
    newName: dock.mau.dev/mautrix/googlechat
    newTag: v0.5.2
  - name: conduit
    newName: docker.io/matrixconduit/conduit
    newTag: v0.9.0
resources:
  - ingress.yaml
  - pvc.yaml
  - sts.yaml
  - svc.yaml
  - vpa.yaml
labels:
  - pairs:
      app.kubernetes.io/component: communication
      app.kubernetes.io/name: matrix
      app.kubernetes.io/part-of: nishir-office
      app.kubernetes.io/version: 0.9.0
secretGenerator:
  - name: mautrix-googlechat
    namespace: shikanime
    files:
      - configs/mautrix-googlechat/config.yaml
