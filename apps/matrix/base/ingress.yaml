apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: matrix
spec:
  defaultBackend:
    service:
      name: matrix
      port:
        name: http
  rules:
    - host: matrix
      http:
        paths:
          - backend:
              service:
                name: matrix-manager
                port:
                  name: http
            path: /.well-known/matrix/mautrix
            pathType: Prefix
  tls:
    - hosts:
        - matrix
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: matrix-discord
spec:
  defaultBackend:
    service:
      name: matrix-discord
      port:
        name: http
  tls:
    - hosts:
        - matrix-discord
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: matrix-googlechat
spec:
  defaultBackend:
    service:
      name: matrix-googlechat
      port:
        name: http
  tls:
    - hosts:
        - matrix-googlechat
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: matrix-meta
spec:
  defaultBackend:
    service:
      name: matrix-meta
      port:
        name: http
  tls:
    - hosts:
        - matrix-meta
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: matrix-signal
spec:
  defaultBackend:
    service:
      name: matrix-signal
      port:
        name: http
  tls:
    - hosts:
        - matrix-signal
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: matrix-slack
spec:
  defaultBackend:
    service:
      name: matrix-slack
      port:
        name: http
  tls:
    - hosts:
        - matrix-slack
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: matrix-whatsapp
spec:
  defaultBackend:
    service:
      name: matrix-whatsapp
      port:
        name: http
  tls:
    - hosts:
        - matrix-whatsapp
