apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
images:
  - name: synapse
    newName: docker.io/matrixdotorg/synapse
    newTag: v1.99.0
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - literals:
      - ENC[AES256_GCM,data:9caNiSanktQBapGtLnsjUvrTu+4GPNs=,iv:vEWMojHvcKTvMgCEd3YKfcFlsGUuJT1roxiuY9DinX0=,tag:tyNazMpKaBBYkycUYpwSSQ==,type:str]
    name: matrix-pkcs12-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:MBqW/k+i5XtFkj/Om/8ga3PS3KDm1P8=,iv:zcuizKSPexaO/1np3XGf72g4kpz/rNSOJSeargzoXVM=,tag:4TpRVA91zQX5xaIy+o2efw==,type:str]
labels: []
sops:
  age:
    - recipient: age1h0pg9ft6lpyequh7ew2yhrn5m9kc8alc5kmxj3ex2hlzav97lseqwlpz5p
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBLdmRhZlhYdWFkWHM2M3pK
        VzJ4NEt1U3EzNFFmSXNSaE5jK3JZeUV3NXhzCmdyM3JwR0thVEdTZUszRDRRaTNr
        azFKUlUzb2Q5dTNhbjdtUXQzZHpUQzQKLS0tIDZZbmFrSDBPcUVtaWI5bjlnWlMx
        WGg2UEcrYmlSZTg4Y0paVW1Ja25aYXcK0t3FzZkVARPJ0ZoWWtrZohOx9gpSFQ+s
        Te8YcznVhym69Dxp+msMD5Z4/vxYY5Vo/iMRhjjk7p9AYfZs0HPizQ==
        -----END AGE ENCRYPTED FILE-----
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBsTDVncFBFUUlPYitWVVNx
        d2duRnpINStldWJNMU1HVFdheFFWSnVnUVVVCkpOUVVvR0NINUY4dEhIekU3bHYw
        THRmVEJDcTZaaVFRdXdncEU1T08vVm8KLS0tIHlLR0dWN015aURlanZ3d3lxUEJG
        eTh2bHJ3QVI3OFU3NWRSM2xwSWMyNXMKOMGaa6aL0wnVNWoxvaubvW9YvkBtjzB0
        BZ21vImUndDR8bOrNdUjO/qywBjh4UByws7zdG+cOgt/ZoWAIbXIVQ==
        -----END AGE ENCRYPTED FILE-----
    - recipient: age1045knj0kzudt68plt0snrhp7u0gffp2uh8ul4g6qy93nel5rw4wq3ag2kl
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA5SWI4K2VreThBQ0EvRXlq
        MTVtOXhlVlcyUUpPQjVwOGZkZkZWaEhaS20wClNtajFNTjRhUVdQaFZNNWxWWTFJ
        TS8xS1RXaFVFVi9YTTUvTGNCQWxFdFUKLS0tIGJ2L0J3SWNxOXQyRUNDU0JrL3pJ
        VndhOFBYVUVhV2dkRTh6Y2VwRkFFZTgKDI1B1g+oOhaDZ7HhSw77+c+vOrtS8XSE
        p3RXEGITu0Dg6cafiC3OXqHaaPO1uTVcw2MEojfqI0c1I/Wwr/w29w==
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA5bnVNRWV0UEtjcnZlUGVW
        a0NGZi9CNFVZM3RLUVhGR3VpcGZMNktiUFVnCm5QR1QvNVBFMlBPcG1GUmZ4NXpJ
        Z3l1N1ZpdnRhK2VNL3oyQSt2ZTlab00KLS0tIGhyWDB2cUtCcDRhTldibjBsY2Mz
        Q1piTWRwVjI3VkZwOW5LdnRDVnQvc3MKcL46CBnDXTgcWQnOy8IGoSIg9INmBI0V
        8xSVs/ESpCMVahyuUYdIhKK559M83rj4r1vQ1x5wpKF84GXVloGpmw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-10-01T12:32:48Z"
  mac: ENC[AES256_GCM,data:clsAs5aIFXQ469inht+X0WgWx8WkGgg/+ssm2yiKOSiCZIDY46bb4ws3+cinWBWufBxCkqThTW6gqPSaub8DkGMQuaZKGe7KIyZuRQ/KT6UysNgSYkTMiDxbalarFL2B+PI1Gg4ufjG45CIuAJuFBgyXxbhh2b+A6GpH0jXoQUQ=,iv:4kLSt6kYKZ6vQKmMMRFCI+0IOOhwhFHOmQEdkXvSO8w=,tag:Rfw3FUv9kf2ZiiPCfGJwcA==,type:str]
  lastmodified: "2025-08-08T17:01:49Z"
  mac: ENC[AES256_GCM,data:14xgN//lJNWW8ruFCdNpidcnYckNpdpCsX+7QaPtstIvk3hlS7LXbH36tarmSFuQRE6esCJJNefVN/dq4PaYxVr1kEFMfAKTB3HN/n5biQgy3BlU85eYh97/WV139a3Lmcb99vEihDrIIjaDoV3jPRK2T35dgTNi0xYcVsF3I9U=,iv:cjYQqVo/ubej6WwvBYIHZrGBefmuSo0SUb3UFW8pNYA=,tag:ppYSeDBV4PuGmqYurMyYNw==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
