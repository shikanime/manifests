homeserver:
  address: https://matrix
  domain: matrix.taila659a.ts.net
  verify_ssl: true
  software: standard
  http_retry_count: 4
  status_endpoint: null
  message_send_checkpoint_endpoint: null
  async_media: false
appservice:
  address: http://matrix-discord:29334
  hostname: 0.0.0.0
  port: 29334
  max_body_size: 1
  database:
    type: sqlite3-fk-wal
    uri: file:/data/discord.db?_txlock=immediate
    max_open_conns: 5
    max_idle_conns: 1
    max_conn_idle_time: null
    max_conn_lifetime: null
  database_opts:
    max_open_conns: 20
    max_idle_conns: 2
    max_conn_idle_time: null
    max_conn_lifetime: null
  id: discord
  bot_username: discordbot
  bot_displayname: Discord bridge bot
  bot_avatar: mxc://maunium.net/ygtkteZsXnGJLJHRchUwYWak
  ephemeral_events: true
  as_token: ENC[AES256_GCM,data:uBHa86Y5KjjhriCxcF9vXAanRqB1GPI7hJQxtBCHGbRbsJzpk5sePVcBHBcWR1lOk4w7Fha1eBPS7EsaSiEGsA==,iv:WI/B+bhmAztQ8AalvstNt3AbPwmK2okL4dEVlWax13U=,tag:xINPW3sKmcjzvFa8q4rPoQ==,type:str]
  hs_token: ENC[AES256_GCM,data:Ia1MnNxxAnbgakBX84L9IX+quoHFZGFF/keIPpSdeY4d2+yAa2/uC5+7TtBBxv7iyHmqqIyuRsvVgD9l+eD47w==,iv:h4vF/8V+DSRM0hvOKiy5Tp8CIWP0lpVRksYcYStboIQ=,tag:CpIxlj7HVB5VViFeD4DrpA==,type:str]
metrics:
  enabled: false
  listen_port: 8000
manhole:
  enabled: false
  path: /var/tmp/mautrix-discord.manhole
  whitelist:
    - 0
bridge:
  username_template: discord_{{.}}
  displayname_template: "{{.Username}}#{{.Discriminator}}{{if .Bot}} (bot){{end}}"
  command_prefix: "!discord"
  initial_chat_sync: 10
  invite_own_puppet_to_pm: false
  sync_with_custom_puppets: true
  sync_direct_chat_list: false
  double_puppet_server_map:
    matrix.taila659a.ts.net: https://matrix
  double_puppet_allow_discovery: false
  login_shared_secret_map:
    matrix.taila659a.ts.net: shikanime
  presence: true
  update_avatar_initial_sync: true
  encryption:
    allow: false
    default: false
    appservice: false
    require: false
    allow_key_sharing: false
    delete_keys:
      delete_outbound_on_ack: false
      dont_store_outbound: false
      ratchet_on_decrypt: false
      delete_fully_used_on_decrypt: false
      delete_prev_on_new_session: false
      delete_on_device_delete: false
      periodically_delete_expired: false
      delete_outdated_inbound: false
    verification_levels:
      receive: unverified
      send: unverified
      share: cross-signed-tofu
    rotation:
      enable_custom: false
      milliseconds: 604800000
      messages: 100
      disable_device_change_key_rotation: false
  provisioning:
    prefix: /_matrix/provision
    shared_secret: ENC[AES256_GCM,data:9yyQcx2+QOA=,iv:ldOxVkVvuF3616mKMpFw2GvZreIzFGhMJvHdncQ6upo=,tag:+It8y8QGLU5wshhaG0fTyA==,type:str]
    debug_endpoints: false
  permissions:
    matrix.taila659a.ts.net: user
    "@admin:matrix.taila659a.ts.net": admin
  relay:
    enabled: false
    bot_token: null
    admin_only: true
    default_relays: []
  backfill:
    disable_notifications: false
    initial_limit: 50
    missed_limit: 1000
logging:
  version: 1
  formatters:
    colored:
      (): mautrix_discord.util.ColorFormatter
      format: "[%(asctime)s] [%(levelname)s@%(name)s] %(message)s"
    normal:
      format: "[%(asctime)s] [%(levelname)s@%(name)s] %(message)s"
  handlers:
    file:
      class: logging.handlers.RotatingFileHandler
      formatter: colored
      filename: ./logs/mautrix-discord.log
      maxBytes: 104857600
      backupCount: 10
    console:
      class: logging.StreamHandler
      formatter: colored
  loggers:
    mau:
      level: DEBUG
    mautrix_discord:
      level: DEBUG
    aiohttp:
      level: INFO
  root:
    level: DEBUG
    handlers:
      - file
      - console
sops:
  age:
    - recipient: age1h0pg9ft6lpyequh7ew2yhrn5m9kc8alc5kmxj3ex2hlzav97lseqwlpz5p
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBxdVhSUGx4S2s5dk9Za1k0
        UUJGMkhLWlhYQ1RzVkpFc2ZWZUdmc1NpcWxRCmlIbUFveW43NWVyNEpIM2xFaEhC
        b3JNZCs5MHd2UFYxSHhjUDhsN3BlQlEKLS0tIHhyZUoyR2pqdVd6cjdISE5LdUdo
        TnJwYXliNCtIM2tlT2tMblhhL1Q3VEEKEb/SsLA/H8bS28f7DXSKMQMe9lc3ALsx
        q3JowWXG3qN3yAMXp88QYsrBhIYAmxYGrLU0ISlO1gw90cn9fKNlgw==
        -----END AGE ENCRYPTED FILE-----
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBTN0hubUw4NFkyS2pOZzZr
        TW5RU2tOVCtmVXRmM0pLYTZabHJMZjBNdHowCnJwY0M4YUd0UG9hbDh5UGpnRXda
        NXo4VHhSeldXVmhCQXAzcnVRaWkxanMKLS0tIGlxY0hlY0hBVmlLZVdjRmF5REtu
        NWl5TFg3UVA1elRkVUxJRjRDQ2lad2MKFUtlgaML8x1u+omMiO6QQKh5cmKx3HZD
        jrsAQNmH3kmYY587xJri10WdgfWFA/flD00YMlZnL/Dvf8sS5tOurQ==
        -----END AGE ENCRYPTED FILE-----
    - recipient: age1045knj0kzudt68plt0snrhp7u0gffp2uh8ul4g6qy93nel5rw4wq3ag2kl
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA0WnlEdFUrNGl3ZjJBZXpV
        UjJZMFJzTU9Md3ltVm5LNExzWmt6alhLcEI4CkdHL0xaZy9jcXRYRzZ2VDd4bVpH
        MGhBRmw0RDZMcUQwdTgzWDJreWhHd2MKLS0tIHpRTHlmTmlpN3FFUys0VERNVCtn
        eGR1SVlpK0E0bk53K0U1SzNFQlZXczgKJhXvAQcZRhGrRe36fC96s8UnTA3vNywL
        Egg+Opm/kWkPqtzMR4fnl1AL4loM4P3SrVwpJ9hOapdmL2P4gYqV1Q==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-10-06T08:56:50Z"
  mac: ENC[AES256_GCM,data:2HsRgOske8ySDk/Ofp5vG4NGFhf7i6Moq5hbscRAX+HSLZRaC/9wB+iaR/FTcj/xf946sJJQVLrny1Gu1Vv2U9pjdQk+0j71gZB7dq6E7zWrQqW93gpBQGGLRAXFsLcFdmuM+eiRgtQr9vgP0KbRua65mVQi14QuDQ7Hhy/RVtY=,iv:JF8ZvRMIZL04AC0/UBjiW6i1V/61rrkUaON6y0UKXFA=,tag:Rdefnq33zXPeFM7plweJMQ==,type:str]
  encrypted_regex: ^(as_token|hs_token|shared_secret)$
  version: 3.10.2
