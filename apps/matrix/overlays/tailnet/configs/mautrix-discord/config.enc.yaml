homeserver:
  address: https://matrix
  domain: matrix.taila659a.ts.net
  verify_ssl: true
  software: standard
  http_retry_count: 4
  status_endpoint: null
  message_send_checkpoint_endpoint: null
  async_media: false
appservice:
  address: http://matrix-discord:29334
  hostname: 0.0.0.0
  port: 29334
  max_body_size: 1
  database:
    type: sqlite3-fk-wal
    uri: file:/data/discord.db?_txlock=immediate
    max_open_conns: 5
    max_idle_conns: 1
    max_conn_idle_time: null
    max_conn_lifetime: null
  database_opts:
    max_open_conns: 20
    max_idle_conns: 2
    max_conn_idle_time: null
    max_conn_lifetime: null
  id: discord
  bot_username: discordbot
  bot_displayname: Discord bridge bot
  bot_avatar: mxc://maunium.net/ygtkteZsXnGJLJHRchUwYWak
  ephemeral_events: true
  as_token: ENC[AES256_GCM,data:C0fWI3+JmPCUBncpMotCt1lyrwvhAHjLTK5L+Gu+xYqJ3RJGfRgbpzpL7UQ6A9JSwZWEpIZFmGsjlCJqcmltjQ==,iv:lSxoZrAOIQ1MNP/ZjR/vRID2BxaoYy3sZLI7gpE6ZWc=,tag:Gdt6tTZmu7wdFobTY0qVKg==,type:str]
  hs_token: ENC[AES256_GCM,data:10qTTvMGHb8NxB+jE1o2l28A6fELDcuRCQT3yrETOAoOX0b/nsReoUZDv7oZLM8sDMJANXfJmjJR8tusxV8WQg==,iv:p0G3W0d0ThvW6vLTv6jzSyFRytoYzZLIh6V7UQG2Th0=,tag:+CIbkljHKWvPWBOLmLmVtA==,type:str]
metrics:
  enabled: false
  listen_port: 8000
manhole:
  enabled: false
  path: /var/tmp/mautrix-discord.manhole
  whitelist:
    - 0
bridge:
  username_template: discord_{{.}}
  displayname_template: '{{.Username}}#{{.Discriminator}}{{if .Bot}} (bot){{end}}'
  command_prefix: '!discord'
  initial_chat_sync: 10
  invite_own_puppet_to_pm: false
  sync_with_custom_puppets: true
  sync_direct_chat_list: false
  double_puppet_server_map:
    matrix.taila659a.ts.net: https://matrix
  double_puppet_allow_discovery: false
  login_shared_secret_map:
    matrix.taila659a.ts.net: shikanime
  presence: true
  update_avatar_initial_sync: true
  encryption:
    allow: false
    default: false
    appservice: false
    require: false
    allow_key_sharing: false
    delete_keys:
      delete_outbound_on_ack: false
      dont_store_outbound: false
      ratchet_on_decrypt: false
      delete_fully_used_on_decrypt: false
      delete_prev_on_new_session: false
      delete_on_device_delete: false
      periodically_delete_expired: false
      delete_outdated_inbound: false
    verification_levels:
      receive: unverified
      send: unverified
      share: cross-signed-tofu
    rotation:
      enable_custom: false
      milliseconds: 604800000
      messages: 100
      disable_device_change_key_rotation: false
  provisioning:
    prefix: /_matrix/provision
    shared_secret: ENC[AES256_GCM,data:UQ8JXjiGLD0=,iv:OzJ8OrzFT9MZp0CmAoH6XxaZBQVmG1zYiypUgP3/wtM=,tag:JTLbVBXgwBI6DY9SbAbitw==,type:str]
    debug_endpoints: false
  permissions:
    matrix.taila659a.ts.net: user
    '@admin:matrix.taila659a.ts.net': admin
  relay:
    enabled: false
    bot_token: null
    admin_only: true
    default_relays: []
  backfill:
    disable_notifications: false
    initial_limit: 50
    missed_limit: 1000
logging:
  version: 1
  formatters:
    colored:
      (): mautrix_discord.util.ColorFormatter
      format: '[%(asctime)s] [%(levelname)s@%(name)s] %(message)s'
    normal:
      format: '[%(asctime)s] [%(levelname)s@%(name)s] %(message)s'
  handlers:
    file:
      class: logging.handlers.RotatingFileHandler
      formatter: colored
      filename: ./logs/mautrix-discord.log
      maxBytes: 104857600
      backupCount: 10
    console:
      class: logging.StreamHandler
      formatter: colored
  loggers:
    mau:
      level: DEBUG
    mautrix_discord:
      level: DEBUG
    aiohttp:
      level: INFO
  root:
    level: DEBUG
    handlers:
      - file
      - console
sops:
  age:
    - recipient: age1h0pg9ft6lpyequh7ew2yhrn5m9kc8alc5kmxj3ex2hlzav97lseqwlpz5p
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB4MENUSGc0YXhPdEZTV3p3
        dVVDVjN3WXcrT0hNdFpFWURDTThsclhpMGhFCi9DVFBNbkplbkFmUUhlZ2FRZ3FK
        dURFalVtYXdYc084Z3NCbHdSTytGTWMKLS0tIE5zN1hpU09obDNCN0pQN3h3d2xZ
        Ti9IbmVjNEltY1NwRFh4MTlsQTVlV1EKL+iuaYjbMd8kqcCZGoaussc5TavvJkKR
        /z0KGlTQur6XQEsDBzAcDB1hSE5MNoB1UE84D2o20DJi693uYwNgQQ==
        -----END AGE ENCRYPTED FILE-----
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBtK1cxSzBzektaQ0xhT0VS
        SmF2S01nSTFXM0R5eEIzUVZKdlM0b2NJWjFZCjZBRHVzdVNYNkN0RzN4UUpleTZu
        TkZidjJxZUt3dG96RVIwOWVDMTZXSXMKLS0tIHlmY2Q3QUxVODN6dFRaSTYyaFRY
        WktlVTU3dmVWcTdrRHpTUlh6UlliNVEKj8IbPRcDTxhUPklpz1CvYm3Z3b4ddsGd
        /we/ajxGw8R+U3sVkug5+P2baa4TEeMwQfOc7E1AVGLpP7VrKOgnkQ==
        -----END AGE ENCRYPTED FILE-----
    - recipient: age1045knj0kzudt68plt0snrhp7u0gffp2uh8ul4g6qy93nel5rw4wq3ag2kl
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWVkw5RjFEUXNCWDFRdEh1
        Y3pMWXVGc0hxb3lKRTE5TXR4TlV1Q2VNRUM4ClZkclFkTklzeGZtOTE2YU9vVnVS
        NWxydHpXYmQyVkcweE5XZW9UVC9yeDQKLS0tIHlkSjhiSGJrQ0FCQ3RndVVLMlU1
        YkNKNnpBaFEvYXdmM1VmVythZjVCYWcKD+xnqrlpy9xqh+YHiAdUc2YQqMPrgNsG
        JGSAFU8ZEuCdlSGn9BmAJSFaCYIYTh6s7RPlhdOalVXlZVvtdzgAoQ==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-10-02T21:44:12Z"
  mac: ENC[AES256_GCM,data:ZdXraUN20rwBMSTVnPM5ROhG3h8P4DEAVlpQPvkyjKSGCgArZywxuNRMDDNpulxx+TxVDjGYkJ/zvVuLHymtVMhytbcWhqqrgKPln11j/oWpfHyBWhhVT4TLPX0+e7fBirBpgfi91mhPtFKCW9Il6aW861hUgX7KaEu9SKkWmuo=,iv:+P35HRe9dyogqyvZCaIpq5DfqGTclxs1phJHXG6G0v4=,tag:xrEVVp2HeMVfTX5YdHIOGw==,type:str]
  encrypted_regex: ^(as_token|hs_token|shared_secret)$
  version: 3.10.2
