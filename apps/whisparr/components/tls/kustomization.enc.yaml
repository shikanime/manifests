apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
nameReference:
  - kind: Certificate
    fieldSpecs:
      - path: spec/secretName
        kind: Certificate
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: whisparr-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:nY4mNrM8HusHr9iJlgQ9Fmc3k4r4UZ9/Ls5+sjrjYJlk9ir8654SsfWG6jSfJcD8NuI2UwA=,iv:nKvBOoG6R3V8JMplYbC4U+XfAcmr0Il+9dHNDNtt0OA=,tag:u10qy46c4e+/piQHptlSjQ==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBDdDl5aUd4bi9oZXhicDJL
        MjZSclVCd3RtNUo5TmlhS0JXTEZUaWJUK2hBCmJHZ1d2VFE5UHhtV0RwcHkvWWxU
        VlNObWtORFJwanVSc2JsWUd2bFhFM28KLS0tIHBzY0hwLzAvNEUxbnd3SGNmSzNi
        L251UGtDTkhwVjhTdnE1QmthN213cXcKv5shti43+YQFybsACOgtDhF4NbyAhJP1
        yadyFUXKf2Mq84lejDzH+NPSSkpfsi8yNOoroePdVN0RspczqeghIA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:25:55Z"
  mac: ENC[AES256_GCM,data:Oh/6t4Ral8CIUsrJb/b+WseJ7WtPoLQoc50BO1yVPQGQ9VFtr0r7K6vZAkbJcGo79wIEgcjYcVZuP/08CTexYQ/GilqGBbhRBL74LtwFFoNt7cMEEsUu63RqNussNRbSEFWbJDsI1l9QoLm53mGqgPR0BWhj/CCjw9xFXc48PMc=,iv:DO/HMJ63iDMUdR2BD4iid3/t409fo5TH3VPy0kdM/J0=,tag:UX/WJghGHgOycEPknUFjHw==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
