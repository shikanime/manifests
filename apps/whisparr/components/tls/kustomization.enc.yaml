apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
nameReference:
  - kind: Certificate
    fieldSpecs:
      - path: spec/secretName
        kind: Certificate
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: whisparr-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:aendqklwYdMNqZiUFhAb/EMRstoscSYKKtzhv5nkcURMGO8FmenvryoX0h1YGp/qQjT2ysw=,iv:rO2PtF6c+HCk/NRa3f0TmzWeS/YKv7X3uwRGf3Gv0hc=,tag:RgMEAl1LWDxwiJQx0w+Y5g==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBFQmVCVTVhaDdiOEphN3dZ
        VGN1YkRDci9ha0R0SmVvUXlKTG1SQUJhQVZJCkNhUm40aVk1elRycUl6Nlg3RFM4
        WjV6RFFXVy8vZFQ2b2w0bmhZVVlFNW8KLS0tIGZoampKa1pwazV0Y2NTaVRQV2pt
        U25FUWp6Q1hYUnBSbzA1TTk5dm5rMTQKoTIfemXIfDjHYIA3t6Md700L42Vn6s9q
        wYQ5GZU9RJrMqDmWLLv9DVlvsFhOsm23sUN4LAUF609US5B4uxekbg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:27:34Z"
  mac: ENC[AES256_GCM,data:MOs+In9PPY9LLNYYMOlNj5Kxsx5cE1BfpdAkC/OsVUJaH8Sn1wz14GEkN2QA7PFG/GW5HJk4uF54z4XZX23A1hj/4Cg65rQN1r2pMgNLoBr2xuZFXaGptV9DCZNibNA3/0LPzmtzjt41p/xEfBqs/Y3ppld+3INHQp85v8saQCM=,iv:9dmW2jUIHSUsIb88ybVWpCDrFGeMJLAC+iyvOHG3IiA=,tag:dY97nh+hwD555BHRBDeN5Q==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
