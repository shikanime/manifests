apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: whisparr-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:ComMUhmA0YHmDYnLlavwUCO/ktNDbfzr5PiR3XWKTwjWQEl6OQqJGtfF0X7zhRHhekTsMOs=,iv:h8aq9rKvlMIitxcJ0guYJGgmvTI8aeWjh/hqv/eJaHI=,tag:dNdBEkwj6ypzrxMHx9VrUw==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBGUHI0MHlhOUNlNXM5eFJS
        VWt1NWNVb2hpcWVuQWxXUmEybi81c2hhaFI0CjhqZi9acWZEcmx5dnVtdnhGSDdm
        MCsyQ0c3R3ZneExjU255d2JKekhHNEEKLS0tIGl0cDFpTFVveHo1UDNuOWdQNTJw
        TTc0Mlg0YjZLWGlxdC9sUEJCdUtsZVEKlz6bgRbqyOL8GNsB/ZXCg/s1K+C3tAWQ
        2gOMYxzXvDa8C7it02mULhv7NzUeutQlSBv/kmfuqkY/Nb/y7FV7Hg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:50:43Z"
  mac: ENC[AES256_GCM,data:fbZfQ56hJ9oHgRCE3g7lElsF0vji9fm6iTZDmeBwKBOnvaDkeRDCJN9xoUbKZ4PvtIGXSgxxuklL+EPoFgOOterOHHLRuiUxp42r7zOQowSr44Ho6tm0903eXqCqLZ0F6avj6+dJKRJn8qidzWioAE7dkLRLQiLaIu2XX2XIyOY=,iv:u1JSz/hM9md28hkikYJjcsHtMbaRbFjqjKpQtQ8J9iU=,tag:u6L4xmrqZPLKgnfgh1+bJQ==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
