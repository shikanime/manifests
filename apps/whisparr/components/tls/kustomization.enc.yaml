apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: whisparr-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:MRN/dfLRBdhT/3+bDYPnvTydWPds/4lzbClXyZUJNdpaLEo+sT5j63tz9tiBdtu6wJ8JQFw=,iv:Ey8X83I2jIfh1x0x6UxLrCK6l/dmRC4Zx8Pf4SYRFmo=,tag:49ZeCA3FnV/VhYrK98LnAw==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBSYzRXS0NVbHowVlkxQUNE
        K0l3T1NwOVRZUGxuY0xMdXdreGMyWk1tLzE0CnA1eUVNd25tcW9WYVo0ZlMydlJj
        eGhoalVMYUlMN1lIWVNzTHcxdm9TcUUKLS0tIFlEZTBWeVcrMFNuSkVVMTE5N3pp
        ejNoZWt0b3dLNGgzTVRhVWR2dWtsNTAKIJDY8vdfkd+yd9yHNHX6r+u0bLCWDUtR
        3MCo13g6DwTDDUZ17j0eNUCbgz9+Wtm3rqCkLvef2p3amVukDqufbw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:35:33Z"
  mac: ENC[AES256_GCM,data:iQHCOWjAITvSfAvuCmtnDjcQ8ufVhgcAgdplwNfBYyFSXbhrt8sMol1m6SaEsjIp+YCm9ZuLY8LjQsWhu0qTNfCQoXpVOi/5TAgLPRfJjaKTFYJRQiCQgZENeCy4Wr1XuEP13MXMf3He7BifoIBAe53RlHyFbuvHMgAI+eK0b3w=,iv:uBfrb8LinyaYbso1TBeUOOlXyQ9zYEjbYj0W2rZtnwQ=,tag:hM7JGGLSTAH5IhYztENWlg==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
