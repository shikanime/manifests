apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
nameReference:
  - kind: Certificate
    fieldSpecs:
      - path: spec/secretName
        kind: Certificate
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: vaultwarden
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:84Enneb78cEZ7Q1Wnvbp95JzBdUowEQpncP/SvGRe1O6DVflZ3VHb5NQnKw96qLoYSvLaVOV6Z1ew7SiMoIc+B2gH2rPrTUp9gHn1+QB4CkNpai+SIJmtMwQQlKra7wwXZE8AGiAkwy3rGRSZglKCTRnYEmhNGrzQKa7RSJ613wJpA==,iv:E6WDjMzGz8nXCWoY2+m/L7VOe39N70Ejk8reqEZwJ4E=,tag:4SMcjtbm7+EatwK00inHGA==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBOTWxQQThsalAzR1NkM3hV
        ZTE2Z1RFUkw3R3JyaFpmbkxIUFJReUJTbGcwCjBFWWRwdGVkZHkyakVzVUNWelB0
        RVhMaTB4d1NZak5hc1JCd25GTEZCMG8KLS0tIFBKN2lTMXlQb205MW5ZU2o5UzBm
        aU5qUVd0SHU1bDFJeGlCeFBTRURGU0EK4bBdSpe+VdtE5QTMkQ1w4bz/8TJwg7Jg
        /BoBlNJ+yiNpQaAQSt4jm/FVAgsSuJx7X9wBwWfGWGiapbmoiLWT5Q==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:27:34Z"
  mac: ENC[AES256_GCM,data:ffl9ErJGhN3gijotl1pK5E7W+PDe+9uza9+7Mv4GXebZwB1AU9s4xBaWc1svecmGpGtqS2gd4Oe9OgFYEVQQ1b2pAh6Lc6dtEqZoKmXM155uWoF+RX/JP1lprZ2pjsmM2xIQbRO9aDmy5w6p79AchgUjp+PKW8sB8gY22aeEGDw=,iv:CMbUIrXQxd/y4sMjzFt1AT3TGOTGvqXR+YK5ezQvN3I=,tag:YcaGTuKVpNOu/RvHXpbdQw==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
