apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: sonarr-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:GVPTmaKSlmCe3f1cZMCUmbS5GhpDG1Q=,iv:azzFjprfa40AeWYhDTzuu8AAKQYqHzG62QaCfljzPjs=,tag:HbUHkJYkqRC++3mXG+F49g==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA3b1NaTnJDNHY2OWFVRFhP
        Wjk1RDFMMkV4cjFxNmxXUXlrOXRFbVIyRGlFCjBma2pPOURaMHJSWjFLRnBHeFNB
        OU9BNnhzVTh2eDRHY1FhZHp1RSttOEkKLS0tIGdrK3VRdllSUlJzQkg2a3BTbDkz
        M01FdkJWMDNBWkdHbXZXZzZZRGtpS00KzW0DRce3v8DUdMT9u3j8/seUZvzq1wlE
        MkhZk5rxmOX0aNqpRr4ATvspCPdUEbtX1HMQrmnLeEvoNVg/cjuYKA==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:35:33Z"
  mac: ENC[AES256_GCM,data:3IrzyzaYYUDUyuCnmNtMFN4+6pWpSceFqTh2DsrNvoWrtdm7c+aEwM6Wce6zp7bYQbax+uV+pEcNSgiHhsxFVMPPqbLzHOnUuH/MckZGSMKTrEjB46V17HWcDUuluifJY7rw3axNzC/1ouxyw/k2ZBp3UrQqjui9y6ID9QkCLcY=,iv:aBQt8rTRV+7kCtXeoa1mMd2OHbPQq78nFttAJfth1Aw=,tag:DpgxZPRzIpoDr7jtbY+Dvw==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
