apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: sonarr-pkcs12-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:pPSrOiMLUxLCFu+pUDKGI6BJBSzEW74=,iv:B2bZOSW7bEzzzKdZAtWvPgwge/1G6Amp48OH4NQdGWA=,tag:mN0zIZz4srCHBNik9OWC7w==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSB1Zm04U0g2eXowb0N0TjRr
        UGFzcEFFekcyNDlreURIVG1Da1FtZ2lZWVJjCkNHYXExa1dzNzBjaHI2L2ZtaDVr
        b1IwNDcxOTgrZm52SzErUDBsQXNEcnMKLS0tIGdxbVZXMkthTWhNSExSUkYzRDc1
        UUtxMlJSUkxCR1U1OU5ha2hpbUFLcEkKC6n75GO/7Z9ngbexenLn680xu1kJY6zu
        TSTl6+Gf/C0mHw7LdjYifxv/pyr31Frgg7vJw8oaA6VdwyFcjxdvhg==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-08T12:12:55Z"
  mac: ENC[AES256_GCM,data:4aBtlfqHLLYsdNmwzEBO18OS3goxHJBvyv10BINWGgpwC/Y7Z3EvYe4NTdNbAf+hu2EwD3G38GOGMPRY9ucA4Di5lGSonxcs2Y5b+3An1PDtSj97bF/FGiDE2z0NXwnjBooOxIe/BwiaujZwAa2k2ZpHl7Rg33M+/lLyLQslkao=,iv:Ea3Nir6UuKcx5gB02NwnvKw4KH6PGzyQhHrIjYtVKSg=,tag:80tOlhGBDp1QjjMkVmH6kw==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
