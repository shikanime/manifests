apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: sonarr-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:Cr8bjD3Y6sp9XDBzv1fabAXdMXraWDs=,iv:rPed/jSn75vfGavvMZgOqULVHEOQ+NFiUZeCFKcZMaU=,tag:HIS4pzlzXdpCIU+4SFZ9cw==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA4djNEZFdKdldQU2J3RzNt
        Z2ZFbW5lOFV3RzRUYzhCU2Y3MVlOakJwSWh3ClpaWVhrcU9jclRjNVM1WXpWUElL
        YlNQbHU3dnZUWGxWT3cxZUFOWHdkRDgKLS0tIGJBRFJzLzJoVElMWHBGODN5YkhX
        c0phRTBwdGlCUUZVY3pSSkhjNnR6dmcKqt+5GEYsRIlMxJashU4+VDJbHT2r1e+2
        mvv4Ib0Dhgw5vniXoz2NDiUNjvlZ0uFNiUq8koOdissV9XmGRrCTlw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:50:43Z"
  mac: ENC[AES256_GCM,data:sAKIong1xvQ7mRUUUocoLTti2C2CCsBVIR2ZME+3gEOD29jNeR30Q7B7Xy+GpqSgH7DOClDfM/+DMohEvlkXgQiRDyz1+GtzM5Q4BOTUeDEfSYiKj7cDPfmwDyx45mjiEai4qjXBue19KmTxzsPmAPmgDqkYgTVGrM7m9sWMvSs=,iv:nrfj81JYU/QzaPPQ7gg+fUZMMtv74chnY7ce3OJGNVs=,tag:zCrjE/a2X5+ArkXs8ChR6A==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
