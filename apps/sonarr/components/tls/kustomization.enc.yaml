apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
configurations:
  - namereference.yaml
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: sonarr-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:HcmcDidJ8JOAvGNOSJe+U7F6ADXGouI=,iv:8pFBUdTybagcJi/jC9BVscCmWjB70Rt02To3K1PcXkk=,tag:sQ6KfcCFT2tbiZXx6ZkNlw==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBKVjBHamZZK3ExMGQzZ2U3
        dm5yOUUxMExrSUJkc1JYMmppWk1KRGYrSVNzCnJxbHlDLzQvK2phWFUzOU5tTVRD
        WDBOckxSWFFWcENkYzNBNU9GVmxEa0EKLS0tIHFBUHZkaExobXVReE9WejVFMGpC
        bUx0M1BPNTdtelZhZE1kdkZDMVRxSHcKS4Nus20Jwh85QdzdeoaGbBXrEl6R2lCE
        N1TL1tIhzKq2J29KxLM2wdqXMf1P44ZfvuJjOc8VKTKC8F1W3QLSiw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:52:42Z"
  mac: ENC[AES256_GCM,data:PSKbdBYM+ffiLm0OVJMsyZOTxsGR/1P3fhTZXEEhqU0kR3hnYB0/e6vF+9RJwBFG8yfLv9zVOp92umAzeKJwO36qWjN4Q5IZzeXei9Vc4Rpayjr5tbDGcIGxYwif8T2+a/2ms/OokKr6ayWmfqOlPov6yzTz3Ywr/oWQpf3lins=,iv:y7Vvzc1G4DTOaRFF3TNKSZ8+du7kxLNa00GTSBERShg=,tag:jdbFwVOjMuk8693shREYuQ==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
