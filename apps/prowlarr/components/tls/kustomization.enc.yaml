apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
nameReference:
  - kind: Certificate
    fieldSpecs:
      - path: spec/secretName
        kind: Certificate
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: prowlarr-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:bRB/2f78a1RWB5T2jeEe1IyHNf2W1sY=,iv:zLQlz+S85W8QwTGLeUWpg9rR+Yhu6HIBb7M1tI7PSU4=,tag:gHTzfDe8okEBpdqTEVnMUg==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBYdWN3cTRKVm9qY0gxL0Yx
        T084c2xqL0tPRUFUZFA1a1ZpZ3NOUXpMR1ZvClNIUDdZNVFJQ0xwN25FQkVETDVq
        QVM0ZE41cEgwZjkvRXRzbHh3cnc4M00KLS0tIGh4bTdqUVRGTmM5b3RDQWlTMW9u
        TFc1aCt6OWd5TVVIcklxY0ZqUjFOdW8K//XiuRIHVWePtopyY3Uid0lJip3rKDXJ
        RphmvTEZ/p6EcekLINpz3ZeXtSB/AwLHaiGmOpgfLh7GRNwneL1Vng==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:27:34Z"
  mac: ENC[AES256_GCM,data:MFX0d6Lve/V1Q5WDAtn+YYN3MbSVeNE8HhfvIxF81t771SVfS8ok9Xj7BrTCnTlFw9gE1lDE3MmKqySqrcJMN9+rJRqJFe47zhFz2zXFVVJxL752vPdsUd1IneAfIVFnLNTcuh5tFE0R3CGhXVWuNYhd4ReAplvPAm17lCWxc3k=,iv:qDIzcDSIK9UjF0IKhrRbeW4Rqq5mntOUPG+PNwXT6K8=,tag:cwHCFsbXvlKq9dTR2IRIGA==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
