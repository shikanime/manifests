apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
nameReference:
  - kind: Certificate
    fieldSpecs:
      - path: spec/secretName
        kind: Certificate
patches:
  - path: patch-ingress.yaml
  - path: patch-sts.yaml
  - path: patch-svc.yaml
resources:
  - cert.yaml
secretGenerator:
  - name: prowlarr-tls-password
    namespace: shikanime
    literals:
      - ENC[AES256_GCM,data:hml5zZEejiWcjeTWg2MO5arFmPAjD7A=,iv:CHpxuSboLI4o58e1UdREAyG0cuQr3Tgn0h+R2Tn6TXw=,tag:ypkUdEfKDcw0yCkE6Ua5KA==,type:str]
sops:
  age:
    - recipient: age17q5ljstyzkvqtejwfnyf5jvqduars2yauw7vtgu5fcf54tm2jf0sspvt3c
      enc: |
        -----BEGIN AGE ENCRYPTED FILE-----
        YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBvOTNURWpoNEtQa2t0bTRB
        c20vMFVDcnhvTENrTW9BQ2IzZHZLdWM0bUJjCmhJaHdrWmVuRDZFSklzM0V4Vjl4
        VjlmOFFUYlBCQnBMQ3BBUVV3czI5RW8KLS0tIFIya1RyM0NIbmhUd1FMN3daRWVJ
        eVhBZ3ZETlNzQzFUUXBMWG1UWWljTHcKR90708foAEzpFXOHtjG634fyw+B2WXJx
        XUK6+kAc7zWlAc6Hxvo8oTm5b5gVuMwAyHdNZocGs8CoHg7cvyfPhw==
        -----END AGE ENCRYPTED FILE-----
  lastmodified: "2025-08-01T00:25:55Z"
  mac: ENC[AES256_GCM,data:krSF+R9tYHqMrtkq+ydkVpD5qFKu6LqCvG2lCJKJq8oSEaKId6Xky2vRrtCHq4T2rd0gmYlp/D6BWY6wM5PWirsAZv+G93tAq1nwCIxxZGBnMw4y+ZlGq60p5b8ccnAidrd2aWYMJLmz3t94ySM7hdpMAWxAS0WepdQ2rhzwSRo=,iv:i7HsGZG+QFrYFZ7l/CuWhoA0wO24COV+vwRo1BWXp1M=,tag:GwBbP0WmQ3tQhQ/dZKnQ7A==,type:str]
  encrypted_regex: ^(literals)$
  version: 3.10.2
